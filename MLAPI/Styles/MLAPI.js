var mychart;
var demo;
var real;

//initalise the graph with base data and forecast
function initHighchart(baseData) {
    
    myChart = Highcharts.chart('container', {
        chart: {
            borderWidth: 1,
            type: 'spline',
            zoomType: 'x',
            panning: true,
            panKey: 'ctrl'
        },
        title: {
            text: 'Sales Quantity over Time'
        },
        xAxis: {
            type: 'datetime',
            dateTimeLabelFormats: {
                month: '%e. %b',
                year: '%b'
            },
            title: {
                text: 'Date'
            }
        },
        yAxis: {
            title: {
                text: 'Sales'
            }
        },
        series: [{
            name: 'Base Data',
            data: baseData,
            zoneAxis: 'x',
            color: '#ffa500',  
            labels: {
                format: '{value: %Y-%m-%d}'
            }
        }]
    });

}

//Add ADAR data to graph
function addSeries(newData, title, color){

    myChart.addSeries({
        data: newData,
        color: color,
        name: title
    }, true);

}

//Formats the data to how Highcharts accepts data.
function formatTimeSeries(data, startYr, endYr, startMnth, endMnth, startDay) {
    
    var baseDataRowList = [];
    var baseData = [];

    var dataLines = data.split("\n");
    for (i = 0; i < dataLines.length; i++) {
        baseDataRowList.push(dataLines[i].split(","));
    }

    for (k = 0; k < baseDataRowList.length - 1; k++) {
        var isoDate = baseDataRowList[k][2];
        var date = Date.UTC(parseFloat(isoDate.slice(startYr, endYr)), parseFloat(isoDate.slice(startMnth, endMnth)) - 1, parseFloat(isoDate.slice(startDay)));
        var parseData = parseFloat(baseDataRowList[k][3])
        baseData.push([date, parseData]);
    }

    return baseData;
}

//function demoRun() {
//    inputArray = [[1421020800000, 9840664], [1421107200000, 8538569], [1421193600000, 7881690], [1421280000000, 7774935], [1421366400000, 8456148], [1421452800000, 6525692], [1421539200000, 195778], [1421625600000, 6386391], [1421712000000, 5744162], [1421798400000, 5882045], [1421884800000, 5933913], [1421971200000, 6326166], [1422057600000, 5811369], [1422144000000, 179028], [1422230400000, 9401803], [1422316800000, 8392342], [1422403200000, 7930037], [1422489600000, 8024066], [1422576000000, 9454954], [1422662400000, 7354597], [1422748800000, 225556], [1422835200000, 10291172], [1422921600000, 8904680], [1423008000000, 8136074], [1423094400000, 7973916], [1423180800000, 8439787], [1423267200000, 6594669], [1423353600000, 208209], [1423440000000, 6477197], [1423526400000, 6345089], [1423612800000, 6393495], [1423699200000, 6151076], [1423785600000, 7212357], [1423872000000, 6701361], [1423958400000, 217257], [1424044800000, 9321996], [1424131200000, 8299474], [1424217600000, 8058390], [1424304000000, 8031173], [1424390400000, 8094451], [1424476800000, 6290922], [1424563200000, 199419], [1424649600000, 5984980], [1424736000000, 6021986], [1424822400000, 6028364], [1424908800000, 6471718], [1424995200000, 7778945], [1425081600000, 7421745], [1425168000000, 228942], [1425254400000, 10933146], [1425340800000, 9234921], [1425427200000, 8421680], [1425513600000, 8263354], [1425600000000, 8504508], [1425686400000, 6565020], [1425772800000, 201341], [1425859200000, 6765029], [1425945600000, 6211021], [1426032000000, 6272025], [1426118400000, 6376255], [1426204800000, 6942094], [1426291200000, 6625997], [1426377600000, 244505], [1426464000000, 10877344], [1426550400000, 8792886], [1426636800000, 7993269], [1426723200000, 8073881], [1426809600000, 8291098], [1426896000000, 6398094], [1426982400000, 235852], [1427068800000, 6788834], [1427155200000, 6226359], [1427241600000, 6073784], [1427328000000, 6362734], [1427414400000, 7078009], [1427500800000, 6829093], [1427587200000, 226242], [1427673600000, 12371453], [1427760000000, 11222913], [1427846400000, 11102030], [1427932800000, 11400447], [1428019200000, 242473], [1428105600000, 9366558], [1428192000000, 217211], [1428278400000, 272921], [1428364800000, 7896155], [1428451200000, 6790649], [1428537600000, 6560475], [1428624000000, 6669239], [1428710400000, 6445499], [1428796800000, 244956], [1428883200000, 11075002], [1428969600000, 9166055], [1429056000000, 8002511], [1429142400000, 8396675], [1429228800000, 8738327], [1429315200000, 6569186], [1429401600000, 237342], [1429488000000, 6588863], [1429574400000, 6039464], [1429660800000, 6082195], [1429747200000, 6153519], [1429833600000, 6367560], [1429920000000, 6305451], [1430006400000, 234093], [1430092800000, 10605500], [1430179200000, 9302980], [1430265600000, 9517703], [1430352000000, 11327847], [1430438400000, 264231], [1430524800000, 8764984], [1430611200000, 249207], [1430697600000, 10995906], [1430784000000, 8778928], [1430870400000, 8633577], [1430956800000, 8550616], [1431043200000, 8665512], [1431129600000, 7157061], [1431216000000, 251720], [1431302400000, 6732629], [1431388800000, 6686277], [1431475200000, 8147927], [1431561600000, 289247], [1431648000000, 8596524], [1431734400000, 6497847], [1431820800000, 255680], [1431907200000, 10603240], [1431993600000, 8925994], [1432080000000, 8355497], [1432166400000, 8228411], [1432252800000, 8352281], [1432339200000, 6773815], [1432425600000, 261385], [1432512000000, 299473], [1432598400000, 7776413], [1432684800000, 6876443], [1432771200000, 6974793], [1432857600000, 8372820], [1432944000000, 7546769], [1433030400000, 278690], [1433116800000, 11743615], [1433203200000, 9925193], [1433289600000, 9731791], [1433376000000, 3534231], [1433462400000, 9724893], [1433548800000, 6478518], [1433635200000, 262497], [1433721600000, 7366781], [1433808000000, 6865990], [1433894400000, 6524741], [1433980800000, 6553081], [1434067200000, 6606431], [1434153600000, 6510261], [1434240000000, 269533], [1434326400000, 11570100], [1434412800000, 9636747], [1434499200000, 8618478], [1434585600000, 8191358], [1434672000000, 8458252], [1434758400000, 6390661], [1434844800000, 249849], [1434931200000, 6552538], [1435017600000, 6292372], [1435104000000, 6257424], [1435190400000, 6211764], [1435276800000, 6634687], [1435363200000, 6538314], [1435449600000, 262669], [1435536000000, 11916672], [1435622400000, 11483932]];
//    cleanArray = [[1421020800000, 9840664], [1421107200000, 8538569], [1421193600000, 7881690], [1421280000000, 7774935], [1421366400000, 8456148], [1421452800000, 6525692], [1421539200000, 195778], [1421625600000, 9397418], [1421712000000, 5744162], [1421798400000, 5882045], [1421884800000, 5933913], [1421971200000, 6326166], [1422057600000, 5811369], [1422144000000, 179028], [1422230400000, 9401803], [1422316800000, 8392342], [1422403200000, 7930037], [1422489600000, 8024066], [1422576000000, 9454954], [1422662400000, 7354597], [1422748800000, 225556], [1422835200000, 10291172], [1422921600000, 8904680], [1423008000000, 8136074], [1423094400000, 7973916], [1423180800000, 8439787], [1423267200000, 6594669], [1423353600000, 208209], [1423440000000, 6477197], [1423526400000, 6345089], [1423612800000, 6393495], [1423699200000, 6151076], [1423785600000, 7212357], [1423872000000, 6701361], [1423958400000, 217257], [1424044800000, 9321996], [1424131200000, 8299474], [1424217600000, 8058390], [1424304000000, 8031173], [1424390400000, 8094451], [1424476800000, 6290922], [1424563200000, 199419], [1424649600000, 9502579], [1424736000000, 6021986], [1424822400000, 6028364], [1424908800000, 6471718], [1424995200000, 7778945], [1425081600000, 7421745], [1425168000000, 228942], [1425254400000, 10933146], [1425340800000, 9234921], [1425427200000, 8421680], [1425513600000, 8263354], [1425600000000, 8504508], [1425686400000, 6565020], [1425772800000, 201341], [1425859200000, 6765029], [1425945600000, 6211021], [1426032000000, 6272025], [1426118400000, 6376255], [1426204800000, 6942094], [1426291200000, 6625997], [1426377600000, 244505], [1426464000000, 10877344], [1426550400000, 8792886], [1426636800000, 7993269], [1426723200000, 8073881], [1426809600000, 8291098], [1426896000000, 6398094], [1426982400000, 235852], [1427068800000, 6788834], [1427155200000, 6226359], [1427241600000, 6073784], [1427328000000, 6362734], [1427414400000, 7078009], [1427500800000, 6829093], [1427587200000, 226242], [1427673600000, 12371453], [1427760000000, 11222913], [1427846400000, 11102030], [1427932800000, 11400447], [1428019200000, 10350979], [1428105600000, 9366558], [1428192000000, 217211], [1428278400000, 10843036], [1428364800000, 7896155], [1428451200000, 6790649], [1428537600000, 6560475], [1428624000000, 6669239], [1428710400000, 6445499], [1428796800000, 244956], [1428883200000, 11075002], [1428969600000, 9166055], [1429056000000, 8002511], [1429142400000, 8396675], [1429228800000, 8738327], [1429315200000, 6569186], [1429401600000, 237342], [1429488000000, 6588863], [1429574400000, 6039464], [1429660800000, 6082195], [1429747200000, 6153519], [1429833600000, 6367560], [1429920000000, 6305451], [1430006400000, 234093], [1430092800000, 10605500], [1430179200000, 9302980], [1430265600000, 9517703], [1430352000000, 11327847], [1430438400000, 9295892], [1430524800000, 8764984], [1430611200000, 249207], [1430697600000, 10995906], [1430784000000, 8778928], [1430870400000, 8633577], [1430956800000, 8550616], [1431043200000, 8665512], [1431129600000, 7157061], [1431216000000, 251720], [1431302400000, 6732629], [1431388800000, 6686277], [1431475200000, 8147927], [1431561600000, 7689597], [1431648000000, 8596524], [1431734400000, 6497847], [1431820800000, 255680], [1431907200000, 10603240], [1431993600000, 8925994], [1432080000000, 8355497], [1432166400000, 8228411], [1432252800000, 8352281], [1432339200000, 6773815], [1432425600000, 261385], [1432512000000, 10159634], [1432598400000, 7776413], [1432684800000, 6876443], [1432771200000, 6974793], [1432857600000, 8372820], [1432944000000, 7546769], [1433030400000, 278690], [1433116800000, 11743615], [1433203200000, 9925193], [1433289600000, 9731791], [1433376000000, 8650646], [1433462400000, 9724893], [1433548800000, 6478518], [1433635200000, 262497], [1433721600000, 7366781], [1433808000000, 6865990], [1433894400000, 6524741], [1433980800000, 6553081], [1434067200000, 6606431], [1434153600000, 6510261], [1434240000000, 269533], [1434326400000, 11570100], [1434412800000, 9636747], [1434499200000, 8618478], [1434585600000, 8191358], [1434672000000, 8458252], [1434758400000, 6390661], [1434844800000, 249849], [1434931200000, 6552538], [1435017600000, 6292372], [1435104000000, 6257424], [1435190400000, 6211764], [1435276800000, 6634687], [1435363200000, 6538314], [1435449600000, 262669], [1435536000000, 11916672], [1435622400000, 11483932]];
//    forecastArray = [[NaN, NaN], [1433116800000, 10201988.4755863], [1433203200000, 8602018.69458741], [1433289600000, 7773870.76797548], [1433376000000, 7548049.22107666], [1433462400000, 7624821.91522374], [1433548800000, 6354197.10450969], [1433635200000, 240389.465235884], [1433721600000, 9365807.45763294], [1433808000000, 7841443.6605394], [1433894400000, 7339083.51659449], [1433980800000, 7539709.80222316], [1434067200000, 7513134.2489074], [1434153600000, 6444772.52213958], [1434240000000, 233799.786282788], [1434326400000, 10172101.8441562], [1434412800000, 8397722.46027576], [1434499200000, 7677825.80429437], [1434585600000, 7558445.01200536], [1434672000000, 7726074.87007507], [1434758400000, 6384603.85984228], [1434844800000, 229347.738390757], [1434931200000, 9486203.82713255], [1435017600000, 7864618.28421735], [1435104000000, 7355194.2844979], [1435190400000, 7583300.0170722], [1435276800000, 7542558.12701267], [1435363200000, 6437928.21363471], [1435449600000, 229129.702661924], [1435536000000, 10166941.7818542], [1435622400000, 8397722.46027576]];
//    actualForecast = [[NaN, NaN], [1433116800000, 3166805.7963922], [1433203200000, 6276845.12052526], [1433289600000, 5743673.5574912], [1433376000000, 4125714.6835543], [1433462400000, 4423996.9686239], [1433548800000, 4893383.03125041], [1433635200000, 527867.654894056], [1433721600000, 3355675.47870258], [1433808000000, 6110302.02534645], [1433894400000, 5977844.2087375], [1433980800000, 3996388.5678392], [1434067200000, 4453890.73424091], [1434153600000, 4861379.37682164], [1434240000000, 537803.062653777], [1434326400000, 3298350.9845781], [1434412800000, 6110401.1054099], [1434499200000, 5977844.2087375], [1434585600000, 3996388.5678392], [1434672000000, 4453890.73424091], [1434758400000, 4861379.37682164], [1434844800000, 530803.120450539], [1434931200000, 3298350.9845781], [1435017600000, 6110401.1054099], [1435104000000, 5977844.2087375], [1435190400000, 3996388.5678392], [1435276800000, 4453890.73424091], [1435363200000, 4861379.37682164], [1435449600000, 530803.120450539], [1435536000000, 3298350.9845781], [1435622400000, 6110401.1054099]];

//    initHighchart(inputArray);
//    addSeries(cleanArray, "Cleaned", "#4d11ff");
//    addSeries(forecastArray, "Cleaned Forecast", "#b3b3ff");
//    addSeries(actualForecast, "Actual Forecast", "#4d4d00");

//    console.log("Made it to the demo onlick")
//}

//Main function
$(document).ready(function () {
    var inputArray;
    var cleanArray;
    var forecastArray;
    var actualForecast;

    inputArray = formatTimeSeries($("#inputData").val(), 0, 4, 4, 6, 6);
    console.log("inputArray: ", inputArray);

    cleanArray = formatTimeSeries($("#cleanedData").val(), 0, 4, 5, 7, 8);
    console.log("cleanArray: ", cleanArray);

    forecastArray = formatTimeSeries($("#cleanForecast").val(), 0, 4, 5, 7, 8);
    console.log("forecastArray: ", forecastArray);

    actualForecast = formatTimeSeries($("#actualForecast").val(), 0, 4, 5, 7, 8);
    console.log("actualForecast: ", actualForecast);

    initHighchart(inputArray);
    addSeries(cleanArray, "Cleaned", "#4d11ff");
    addSeries(forecastArray, "Cleaned Forecast", "#b3b3ff");
    addSeries(actualForecast, "Actual Forecast", "#4d4d00");

    //    inputArray = [[1421020800000, 9840664], [1421107200000, 8538569], [1421193600000, 7881690], [1421280000000, 7774935], [1421366400000, 8456148], [1421452800000, 6525692], [1421539200000, 195778], [1421625600000, 6386391], [1421712000000, 5744162], [1421798400000, 5882045], [1421884800000, 5933913], [1421971200000, 6326166], [1422057600000, 5811369], [1422144000000, 179028], [1422230400000, 9401803], [1422316800000, 8392342], [1422403200000, 7930037], [1422489600000, 8024066], [1422576000000, 9454954], [1422662400000, 7354597], [1422748800000, 225556], [1422835200000, 10291172], [1422921600000, 8904680], [1423008000000, 8136074], [1423094400000, 7973916], [1423180800000, 8439787], [1423267200000, 6594669], [1423353600000, 208209], [1423440000000, 6477197], [1423526400000, 6345089], [1423612800000, 6393495], [1423699200000, 6151076], [1423785600000, 7212357], [1423872000000, 6701361], [1423958400000, 217257], [1424044800000, 9321996], [1424131200000, 8299474], [1424217600000, 8058390], [1424304000000, 8031173], [1424390400000, 8094451], [1424476800000, 6290922], [1424563200000, 199419], [1424649600000, 5984980], [1424736000000, 6021986], [1424822400000, 6028364], [1424908800000, 6471718], [1424995200000, 7778945], [1425081600000, 7421745], [1425168000000, 228942], [1425254400000, 10933146], [1425340800000, 9234921], [1425427200000, 8421680], [1425513600000, 8263354], [1425600000000, 8504508], [1425686400000, 6565020], [1425772800000, 201341], [1425859200000, 6765029], [1425945600000, 6211021], [1426032000000, 6272025], [1426118400000, 6376255], [1426204800000, 6942094], [1426291200000, 6625997], [1426377600000, 244505], [1426464000000, 10877344], [1426550400000, 8792886], [1426636800000, 7993269], [1426723200000, 8073881], [1426809600000, 8291098], [1426896000000, 6398094], [1426982400000, 235852], [1427068800000, 6788834], [1427155200000, 6226359], [1427241600000, 6073784], [1427328000000, 6362734], [1427414400000, 7078009], [1427500800000, 6829093], [1427587200000, 226242], [1427673600000, 12371453], [1427760000000, 11222913], [1427846400000, 11102030], [1427932800000, 11400447], [1428019200000, 242473], [1428105600000, 9366558], [1428192000000, 217211], [1428278400000, 272921], [1428364800000, 7896155], [1428451200000, 6790649], [1428537600000, 6560475], [1428624000000, 6669239], [1428710400000, 6445499], [1428796800000, 244956], [1428883200000, 11075002], [1428969600000, 9166055], [1429056000000, 8002511], [1429142400000, 8396675], [1429228800000, 8738327], [1429315200000, 6569186], [1429401600000, 237342], [1429488000000, 6588863], [1429574400000, 6039464], [1429660800000, 6082195], [1429747200000, 6153519], [1429833600000, 6367560], [1429920000000, 6305451], [1430006400000, 234093], [1430092800000, 10605500], [1430179200000, 9302980], [1430265600000, 9517703], [1430352000000, 11327847], [1430438400000, 264231], [1430524800000, 8764984], [1430611200000, 249207], [1430697600000, 10995906], [1430784000000, 8778928], [1430870400000, 8633577], [1430956800000, 8550616], [1431043200000, 8665512], [1431129600000, 7157061], [1431216000000, 251720], [1431302400000, 6732629], [1431388800000, 6686277], [1431475200000, 8147927], [1431561600000, 289247], [1431648000000, 8596524], [1431734400000, 6497847], [1431820800000, 255680], [1431907200000, 10603240], [1431993600000, 8925994], [1432080000000, 8355497], [1432166400000, 8228411], [1432252800000, 8352281], [1432339200000, 6773815], [1432425600000, 261385], [1432512000000, 299473], [1432598400000, 7776413], [1432684800000, 6876443], [1432771200000, 6974793], [1432857600000, 8372820], [1432944000000, 7546769], [1433030400000, 278690], [1433116800000, 11743615], [1433203200000, 9925193], [1433289600000, 9731791], [1433376000000, 3534231], [1433462400000, 9724893], [1433548800000, 6478518], [1433635200000, 262497], [1433721600000, 7366781], [1433808000000, 6865990], [1433894400000, 6524741], [1433980800000, 6553081], [1434067200000, 6606431], [1434153600000, 6510261], [1434240000000, 269533], [1434326400000, 11570100], [1434412800000, 9636747], [1434499200000, 8618478], [1434585600000, 8191358], [1434672000000, 8458252], [1434758400000, 6390661], [1434844800000, 249849], [1434931200000, 6552538], [1435017600000, 6292372], [1435104000000, 6257424], [1435190400000, 6211764], [1435276800000, 6634687], [1435363200000, 6538314], [1435449600000, 262669], [1435536000000, 11916672], [1435622400000, 11483932]];
//    cleanArray = [[1421020800000, 9840664], [1421107200000, 8538569], [1421193600000, 7881690], [1421280000000, 7774935], [1421366400000, 8456148], [1421452800000, 6525692], [1421539200000, 195778], [1421625600000, 9397418], [1421712000000, 5744162], [1421798400000, 5882045], [1421884800000, 5933913], [1421971200000, 6326166], [1422057600000, 5811369], [1422144000000, 179028], [1422230400000, 9401803], [1422316800000, 8392342], [1422403200000, 7930037], [1422489600000, 8024066], [1422576000000, 9454954], [1422662400000, 7354597], [1422748800000, 225556], [1422835200000, 10291172], [1422921600000, 8904680], [1423008000000, 8136074], [1423094400000, 7973916], [1423180800000, 8439787], [1423267200000, 6594669], [1423353600000, 208209], [1423440000000, 6477197], [1423526400000, 6345089], [1423612800000, 6393495], [1423699200000, 6151076], [1423785600000, 7212357], [1423872000000, 6701361], [1423958400000, 217257], [1424044800000, 9321996], [1424131200000, 8299474], [1424217600000, 8058390], [1424304000000, 8031173], [1424390400000, 8094451], [1424476800000, 6290922], [1424563200000, 199419], [1424649600000, 9502579], [1424736000000, 6021986], [1424822400000, 6028364], [1424908800000, 6471718], [1424995200000, 7778945], [1425081600000, 7421745], [1425168000000, 228942], [1425254400000, 10933146], [1425340800000, 9234921], [1425427200000, 8421680], [1425513600000, 8263354], [1425600000000, 8504508], [1425686400000, 6565020], [1425772800000, 201341], [1425859200000, 6765029], [1425945600000, 6211021], [1426032000000, 6272025], [1426118400000, 6376255], [1426204800000, 6942094], [1426291200000, 6625997], [1426377600000, 244505], [1426464000000, 10877344], [1426550400000, 8792886], [1426636800000, 7993269], [1426723200000, 8073881], [1426809600000, 8291098], [1426896000000, 6398094], [1426982400000, 235852], [1427068800000, 6788834], [1427155200000, 6226359], [1427241600000, 6073784], [1427328000000, 6362734], [1427414400000, 7078009], [1427500800000, 6829093], [1427587200000, 226242], [1427673600000, 12371453], [1427760000000, 11222913], [1427846400000, 11102030], [1427932800000, 11400447], [1428019200000, 10350979], [1428105600000, 9366558], [1428192000000, 217211], [1428278400000, 10843036], [1428364800000, 7896155], [1428451200000, 6790649], [1428537600000, 6560475], [1428624000000, 6669239], [1428710400000, 6445499], [1428796800000, 244956], [1428883200000, 11075002], [1428969600000, 9166055], [1429056000000, 8002511], [1429142400000, 8396675], [1429228800000, 8738327], [1429315200000, 6569186], [1429401600000, 237342], [1429488000000, 6588863], [1429574400000, 6039464], [1429660800000, 6082195], [1429747200000, 6153519], [1429833600000, 6367560], [1429920000000, 6305451], [1430006400000, 234093], [1430092800000, 10605500], [1430179200000, 9302980], [1430265600000, 9517703], [1430352000000, 11327847], [1430438400000, 9295892], [1430524800000, 8764984], [1430611200000, 249207], [1430697600000, 10995906], [1430784000000, 8778928], [1430870400000, 8633577], [1430956800000, 8550616], [1431043200000, 8665512], [1431129600000, 7157061], [1431216000000, 251720], [1431302400000, 6732629], [1431388800000, 6686277], [1431475200000, 8147927], [1431561600000, 7689597], [1431648000000, 8596524], [1431734400000, 6497847], [1431820800000, 255680], [1431907200000, 10603240], [1431993600000, 8925994], [1432080000000, 8355497], [1432166400000, 8228411], [1432252800000, 8352281], [1432339200000, 6773815], [1432425600000, 261385], [1432512000000, 10159634], [1432598400000, 7776413], [1432684800000, 6876443], [1432771200000, 6974793], [1432857600000, 8372820], [1432944000000, 7546769], [1433030400000, 278690], [1433116800000, 11743615], [1433203200000, 9925193], [1433289600000, 9731791], [1433376000000, 8650646], [1433462400000, 9724893], [1433548800000, 6478518], [1433635200000, 262497], [1433721600000, 7366781], [1433808000000, 6865990], [1433894400000, 6524741], [1433980800000, 6553081], [1434067200000, 6606431], [1434153600000, 6510261], [1434240000000, 269533], [1434326400000, 11570100], [1434412800000, 9636747], [1434499200000, 8618478], [1434585600000, 8191358], [1434672000000, 8458252], [1434758400000, 6390661], [1434844800000, 249849], [1434931200000, 6552538], [1435017600000, 6292372], [1435104000000, 6257424], [1435190400000, 6211764], [1435276800000, 6634687], [1435363200000, 6538314], [1435449600000, 262669], [1435536000000, 11916672], [1435622400000, 11483932]];
//    forecastArray = [[NaN, NaN], [1433116800000, 10201988.4755863], [1433203200000, 8602018.69458741], [1433289600000, 7773870.76797548], [1433376000000, 7548049.22107666], [1433462400000, 7624821.91522374], [1433548800000, 6354197.10450969], [1433635200000, 240389.465235884], [1433721600000, 9365807.45763294], [1433808000000, 7841443.6605394], [1433894400000, 7339083.51659449], [1433980800000, 7539709.80222316], [1434067200000, 7513134.2489074], [1434153600000, 6444772.52213958], [1434240000000, 233799.786282788], [1434326400000, 10172101.8441562], [1434412800000, 8397722.46027576], [1434499200000, 7677825.80429437], [1434585600000, 7558445.01200536], [1434672000000, 7726074.87007507], [1434758400000, 6384603.85984228], [1434844800000, 229347.738390757], [1434931200000, 9486203.82713255], [1435017600000, 7864618.28421735], [1435104000000, 7355194.2844979], [1435190400000, 7583300.0170722], [1435276800000, 7542558.12701267], [1435363200000, 6437928.21363471], [1435449600000, 229129.702661924], [1435536000000, 10166941.7818542], [1435622400000, 8397722.46027576]];
//    actualForecast = [[NaN, NaN], [1433116800000, 3166805.7963922], [1433203200000, 6276845.12052526], [1433289600000, 5743673.5574912], [1433376000000, 4125714.6835543], [1433462400000, 4423996.9686239], [1433548800000, 4893383.03125041], [1433635200000, 527867.654894056], [1433721600000, 3355675.47870258], [1433808000000, 6110302.02534645], [1433894400000, 5977844.2087375], [1433980800000, 3996388.5678392], [1434067200000, 4453890.73424091], [1434153600000, 4861379.37682164], [1434240000000, 537803.062653777], [1434326400000, 3298350.9845781], [1434412800000, 6110401.1054099], [1434499200000, 5977844.2087375], [1434585600000, 3996388.5678392], [1434672000000, 4453890.73424091], [1434758400000, 4861379.37682164], [1434844800000, 530803.120450539], [1434931200000, 3298350.9845781], [1435017600000, 6110401.1054099], [1435104000000, 5977844.2087375], [1435190400000, 3996388.5678392], [1435276800000, 4453890.73424091], [1435363200000, 4861379.37682164], [1435449600000, 530803.120450539], [1435536000000, 3298350.9845781], [1435622400000, 6110401.1054099]];

//    initHighchart(inputArray);
//    addSeries(cleanArray, "Cleaned", "#4d11ff");
//    addSeries(forecastArray, "Cleaned Forecast", "#b3b3ff");
//    addSeries(actualForecast, "Actual Forecast", "#4d4d00");
    
    //for (var i = 0; i < actualForecast.length; i++) {
    //    var s = document.getElementById('outputText');
    //    s.value += "[" + actualForecast[i] + "],";
    //}
    
});